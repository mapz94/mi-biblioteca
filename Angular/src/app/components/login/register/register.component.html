<div class="container animated faster fadeIn" [ngClass]="{'elegant-color': darkMode}">
    <div class="row my-5 align-content-between">
        <div class="col-sm-6">
            <i class="h1 fas fa-book-reader animated faster fadeIn"
                [ngClass]="{'text-white': darkMode, 'text-muted': !darkMode}"></i>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <p class="h4 mb-5 text-center" [ngClass]="{'text-white': darkMode, 'text-muted': !darkMode}">Formulario de
                registro</p>
            <div class="alert alert-info mx-5">Por favor llene todos los campos solicitados.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form (ngSubmit)="registerUser()" #registerForm="ngForm">
                <div class="form-group row">
                    <div class="col-sm-12">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.username" name="username"
                                required #username="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">Usuario</label>
                            <small class="text-danger" *ngIf="username.invalid && (username.dirty || username.touched)">
                                <div *ngIf="username.errors.required">
                                    Debe ingresar un nombre de usuario.
                                </div>
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-6">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.email" name="email" required
                                email #email="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">E-mail</label>
                            <small class="text-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
                                <div *ngIf="email.errors.required">
                                    Debe ingresar un correo electrónico.
                                </div>
                                <div *ngIf="email.errors.email">
                                    El correo electrónico debe poseer un formato valido.
                                </div>
                            </small>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.rut" name="rut" validateRut
                                formatRut required #rut="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">RUN</label>
                            <small id="Help" class="form-text"
                                [ngClass]="{'text-white': darkMode, 'text-muted': !darkMode}">
                                Ejemplo de RUN sin puntos ni guíon: 123456789</small>
                            <small class="text-danger" *ngIf="rut.invalid && (rut.dirty || rut.touched)">
                                <div *ngIf="rut.errors.required">
                                    Debe ingresar un RUN.
                                </div>
                                <div *ngIf="rut.errors.invalidRut">
                                    El rut ingresado no es valido.
                                </div>
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-4">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.nombre" name="nombre"
                                required #nombre="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">Nombre</label>
                            <small class="text-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
                                <div *ngIf="nombre.errors.required">
                                    Debe ingresar su Nombre.
                                </div>
                            </small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.apellidoPaterno"
                                name="apellidoPaterno" required #apellidoPaterno="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">Apellido Paterno</label>
                            <small class="text-danger"
                                *ngIf="apellidoPaterno.invalid && (apellidoPaterno.dirty || apellidoPaterno.touched)">
                                <div *ngIf="apellidoPaterno.errors.required">
                                    Debe ingresar su Apellido Paterno.
                                </div>
                            </small>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="md-form text-left">
                            <input type="text" class="form-control my-3" [(ngModel)]="user.apellidoMaterno"
                                name="apellidoMaterno" required #apellidoMaterno="ngModel">
                            <label for="inputUser" [ngClass]="{'text-white': darkMode}">Apellido Materno</label>
                            <small class="text-danger"
                                *ngIf="apellidoMaterno.invalid && (apellidoMaterno.dirty || apellidoMaterno.touched)">
                                <div *ngIf="apellidoMaterno.errors.required">
                                    Debe ingresar su Apellido Materno.
                                </div>
                            </small>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-12">
                        <div class="md-form text-left">
                            <input type="password" class="form-control my-3" [(ngModel)]="user.password" name="password"
                                required #password="ngModel" minlength="8">
                            <label for="inputPass" [ngClass]="{'text-white': darkMode}">Contraseña</label>
                            <small id="Help" class="form-text"
                                [ngClass]="{'text-white': darkMode, 'text-muted': !darkMode}">
                                Tu contraseña debe contener minimo 8 caracteres.</small>
                            <small class="text-danger" *ngIf="password.invalid && (password.dirty || password.touched)">
                                <div *ngIf="password.errors.required">
                                    Debe ingresar su contraseña.
                                </div>
                                <div *ngIf="password.errors.minlength">
                                    Debe ingresar una contraseña con un minimo de 8 caracteres.
                                </div>
                            </small>
                        </div>
                    </div>
                </div>
            </form>
            <div class="row mb-5">
                <div class="col-sm-12">
                    <div class="md-form text-left">
                        <input type="password" class="form-control" [(ngModel)]="confPass">
                        <label for="inputPass" [ngClass]="{'text-white': darkMode}">Confirmar Contraseña</label>
                        <small *ngIf="(user.password != confPass)" class="text-danger animated fadeIn faster">Las
                            contraseñas no
                            coinciden.</small>
                    </div>
                </div>
            </div>

            <div class="row py-3 mb-5">
                <div class="col-sm-12 text-center">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="defaultLoginFormRemember"
                            [(ngModel)]="check" (change)="checkCheckBoxvalue(check)">
                        <label class="custom-control-label" [ngClass]="{'text-white': darkMode}"
                            for="defaultLoginFormRemember">Acepto los terminos y
                            condiciones</label>
                    </div>
                    <small *ngIf="terminsError" class="text-danger">Para continuar debe aceptar los terminos y
                        condiciones.</small>
                </div>
            </div>
            <div class="row mt-2">
                <div class="col-sm-6 mt-3">
                    <a routerLink="/login" class="btn btn-block btn-danger rounded-pill z-depth-0"><i
                            class="fas fa-arrow-circle-left text-white"></i> Cancelar registro</a>
                </div>
                <div class="col-sm-6 mt-3">
                    <button class="btn btn-block btn-success rounded-pill z-depth-0" type="submit"
                        (click)="registerUser()" [disabled]="!registerForm.form.valid">Crear
                        usuario</button>
                </div>
            </div>
        </div>
    </div>
</div>